<!-- ===============================================
Apples & Bananas ‚Äî v0.6  (PDF tweak¬†+ flexible batch)
====================================================
NOTE: Markdown fences removed; this is clean HTML now.
==================================================== -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apples¬†&¬†Bananas Puzzles</title>
  <style>
    :root { --cell: 48px; --gap: 12px; }
    body  { font-family: system-ui, sans-serif; margin: .75in auto; display:flex; flex-direction:column; align-items:center; }
    h1    { margin: 0 0 .15in; font-size: 20pt; }
    h2    { margin: 0 0 .15in; font-size: 16pt; }

    /* Toolbar (screen only) */
    .toolbar { display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1.25rem;align-items:flex-end; }
    label   { display:flex;flex-direction:column;font-size:.9rem; }
    button  { padding:.4rem .85rem;font-size:.95rem; }

    /* Puzzle card */
    .puzzle { display:inline-block;margin:var(--gap);padding:.5rem .25rem .9rem;border:1px solid #bbb;border-radius:6px;text-align:center;page-break-inside:avoid; }
    .title  { font-weight:600;margin:.15rem 0 .35rem;font-size:1.35rem; }

    /* Grid */
    .grid { position:relative;display:grid;margin:0 auto .5rem;border:1px dotted #666; }
    .cell { position:relative;width:var(--cell);height:var(--cell);box-sizing:border-box;border:1px dotted #ccc; }
    .cell img { max-width:80%;max-height:80%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);user-select:none;pointer-events:none; }
    .solBox { position:absolute;border:4px solid crimson;pointer-events:none; }
    .metaRow { display:flex;justify-content:space-between;font-size:1.05rem;align-items:center; }

    /* Wrapper for puzzle cards */
    .sheet { width:100%; display:flex; flex-wrap:wrap; justify-content:center; }

    @media print {
      body{margin:.5in auto;}
      .toolbar, #exportNotice{display:none!important;}
      h1,h2{margin:0 auto .15in;}
      .puzzle{break-inside:avoid;}
    }
h1,h2{margin:0 auto .15in;} .puzzle{break-inside:avoid;} }
  </style>
</head>
<body>
  <h1>üçé Apples &amp; Bananas üçå</h1>
  <h2 id="gridSizeTitle"></h2>

  <div class="toolbar">
    <label>Grid size<select id="gridSizeSel"></select></label>
    <label>Fruits per cell<select id="fruitModeSel"><option value="apples">Apples only</option><option value="applesBananas">Apples &amp; Bananas</option></select></label>
    <label>Sub‚Äëgrid size<select id="subgridSizeSel"></select></label>
    <label>Clue type<select id="clueTypeSel"><option value="count">Exact count</option><option value="equal">Apples¬†=¬†Bananas</option><option value="less">Apples¬†&lt;¬†Bananas</option><option value="greater">Apples¬†&gt;¬†Bananas</option></select></label>
    <label>Puzzles per page<select id="batchSizeSel"><option value="1">1 (single)</option><option value="4" selected>4 (2√ó2)</option><option value="6">6 (3√ó2)</option></select></label>

    <button id="generateBtn">Generate</button>
    <button id="toggleSolutionsBtn">Show solutions</button>
    <button id="downloadPdfBtn">Download PDF</button>
  </div>

  <div id="puzzleArea" class="sheet"></div>
  <p id="exportNotice" style="display:none;font-style:italic;margin-top:2rem;">Exporting PDF‚Ä¶ please wait.</p>

  <script type="module" src="/src/main.js"></script>

</body>
</html>